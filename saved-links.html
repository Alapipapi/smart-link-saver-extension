<!DOCTYPE html>
<html>
<head>
    <title>Saved Links - Smart Link Saver</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* CSS Variables for theming - MUST BE CONSISTENT WITH POPUP.HTML */
        :root {
            /* Light Mode Colors */
            --background-color: #f7f9fc;
            --text-color: #2c3e50;
            --input-bg: #ffffff;
            --input-border: #e0e6ed;
            --button-primary-bg: #3498db;
            --button-primary-hover: #2980b9;
            --button-text: #ffffff;
            --message-success-text: #2ecc71;
            --message-success-bg: rgba(46, 204, 113, 0.1);
            --message-error-text: #e74c3c;
            --message-error-bg: rgba(231, 76, 60, 0.1);
            --card-bg: #ffffff;
            --card-border: #e0e6ed;
            --link-url-color: #3498db;
            --secondary-text-color: #7f8c8d; /* For notes and dates */
            --delete-button-bg: #e74c3c;
            --delete-button-hover: #c0392b;
            --toggle-bg-light: #cbd5e0;
            --toggle-thumb: #ffffff;
            --toggle-sun-color: #f1c40f;
            --toggle-moon-color: #85b0ed;
        }

        /* Dark Mode Colors - these override light mode variables when .dark-mode is applied */
        body.dark-mode {
            --background-color: #2c3e50;
            --text-color: #ecf0f1;
            --input-bg: #34495e;
            --input-border: #4a6279;
            --button-primary-bg: #5d9cec;
            --button-primary-hover: #4a8ac2;
            --button-text: #ecf0f1;
            --message-success-text: #27ae60;
            --message-success-bg: rgba(39, 174, 96, 0.15);
            --message-error-text: #c0392b;
            --message-error-bg: rgba(192, 57, 43, 0.15);
            --card-bg: #34495e; /* Darker card background */
            --card-border: #4a6279;
            --link-url-color: #85b0ed; /* Lighter blue for dark mode links */
            --secondary-text-color: #aebecd; /* Lighter secondary text */
            --delete-button-bg: #c0392b; /* Slightly darker red for dark mode */
            --delete-button-hover: #a93226;
            --toggle-bg-dark: #566c80;
            --toggle-thumb: #ecf0f1;
            --toggle-sun-color: #f1c40f;
            --toggle-moon-color: #ecf0f1;
        }

        /* General Styling */
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 20px;
            background-color: var(--background-color);
            color: var(--text-color);
            transition: background-color 0.3s ease, color 0.3s ease;
            box-sizing: border-box;
            min-width: 400px; /* Ensure a decent minimum width */
        }

        h1 {
            color: var(--text-color);
            text-align: center;
            margin-top: 0;
            margin-bottom: 25px;
            font-weight: 700;
        }

        /* Header for title and toggle */
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }
        .page-header h1 {
            margin: 0;
        }

        #searchContainer {
            margin-bottom: 25px;
            text-align: center;
        }
        #searchInput {
            width: 80%; /* Wider search bar */
            max-width: 500px;
            padding: 12px 15px; /* More padding */
            border: 1px solid var(--input-border);
            border-radius: 8px; /* More rounded corners */
            font-size: 1em;
            background-color: var(--input-bg);
            color: var(--text-color);
            box-sizing: border-box;
            transition: border-color 0.3s ease, background-color 0.3s ease, color 0.3s ease;
        }
        #searchInput:focus {
            outline: none;
            border-color: var(--button-primary-bg);
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }

        #linksContainer {
            display: flex;
            flex-direction: column;
            gap: 18px; /* Slightly more space between link items */
        }
        .link-item {
            background-color: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 10px; /* More rounded cards */
            padding: 20px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.08); /* Stronger, softer shadow */
            position: relative;
            transition: background-color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
        }
        .link-item h3 {
            margin-top: 0;
            margin-bottom: 10px;
            font-size: 1.15em;
            word-wrap: break-word;
            font-weight: 600;
            text-align: left; /* Align link title to left */
        }
        .link-item h3 a {
            text-decoration: none;
            color: var(--link-url-color);
            transition: color 0.3s ease;
        }
        .link-item h3 a:hover {
            text-decoration: underline;
        }
        .link-item p {
            margin: 0 0 10px 0;
            font-size: 0.95em;
            line-height: 1.5;
            color: var(--secondary-text-color);
            word-wrap: break-word;
        }
        .link-item .date {
            font-size: 0.8em;
            color: var(--secondary-text-color);
            text-align: right;
            margin-top: 10px;
        }
        .delete-button {
            background-color: var(--delete-button-bg);
            color: white;
            border: none;
            border-radius: 6px; /* Slightly more rounded delete button */
            padding: 8px 12px;
            cursor: pointer;
            font-size: 0.85em;
            font-weight: 600;
            position: absolute;
            top: 15px;
            right: 15px;
            opacity: 0.9;
            transition: opacity 0.2s ease, background-color 0.2s ease, transform 0.1s ease;
        }
        .delete-button:hover {
            opacity: 1;
            background-color: var(--delete-button-hover);
            transform: translateY(-1px);
        }
        .delete-button:active {
            transform: translateY(0);
        }

        #noLinksMessage {
            text-align: center;
            color: var(--secondary-text-color);
            margin-top: 50px;
            font-size: 1.2em;
        }
        #noSearchResultsMessage { /* New message for no search results */
            text-align: center;
            color: var(--secondary-text-color);
            margin-top: 20px;
            font-size: 1em;
        }

        /* Dark Mode Toggle Switch (Copied from popup.html for consistency) */
        .theme-toggle-container {
            display: flex;
            justify-content: flex-end;
            align-items: center;
            gap: 10px;
        }

        .theme-toggle {
            position: relative;
            display: inline-block;
            width: 44px;
            height: 24px;
        }

        .theme-toggle input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--toggle-bg-light);
            transition: background-color 0.4s ease;
            border-radius: 34px;
        }

        /* Thumb */
        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: var(--toggle-thumb);
            transition: 0.4s;
            border-radius: 50%;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        /* Styling for the SVG icons */
        .slider .icon {
            position: absolute;
            width: 16px;
            height: 16px;
            top: 50%;
            transform: translateY(-50%);
            transition: opacity 0.4s ease, color 0.4s ease;
        }

        .slider .sun-icon {
            right: 6px;
            opacity: 1;
            color: var(--toggle-sun-color);
        }

        .slider .moon-icon {
            left: 6px;
            opacity: 0;
            color: var(--toggle-moon-color);
        }

        /* When dark mode is active (checkbox checked) */
        input:checked + .slider {
            background-color: var(--toggle-bg-dark);
        }

        input:checked + .slider:before {
            transform: translateX(20px);
        }

        input:checked + .slider .sun-icon {
            opacity: 0;
        }

        input:checked + .slider .moon-icon {
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="page-header">
        <h1>Your Saved Links</h1>
        <div class="theme-toggle-container">
            <label class="theme-toggle">
                <input type="checkbox" id="darkModeToggle">
                <span class="slider">
                    <svg class="icon sun-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 17C14.7614 17 17 14.7614 17 12C17 9.23858 14.7614 7 12 7C9.23858 7 7 9.23858 7 12C7 14.7614 9.23858 17 12 17Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M12 2V4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M12 20V22" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M4.93 4.93L6.344 6.344" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M17.656 17.656L19.07 19.07" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M2 12H4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M20 12H22" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M4.93 19.07L6.344 17.656" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M17.656 6.344L19.07 4.93" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <svg class="icon moon-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M21 12.79C20.67 14.33 19.86 15.72 18.73 16.85C17.6 17.98 16.21 18.79 14.67 19.12C13.13 19.45 11.52 19.33 10.05 18.77C8.58 18.21 7.27 17.23 6.27 15.99C5.26 14.75 4.58 13.3 4.34 11.75C4.1 10.21 4.32 8.65 4.98 7.26C5.64 5.87 6.72 4.71 8.08 3.96C9.44 3.21 10.98 2.91 12.5 3.12C14.03 3.33 15.48 3.96 16.7 4.96C17.92 5.96 18.86 7.26 19.46 8.68C20.06 10.11 20.31 11.64 20.17 13.18L21 12.79Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </span>
            </label>
        </div>
    </div>

    <div id="searchContainer">
        <input type="text" id="searchInput" placeholder="Search by URL or note...">
    </div>

    <div id="linksContainer">
        </div>

    <div id="noLinksMessage" style="display: none;">
        You haven't saved any links yet! Start saving from the extension popup.
    </div>
    <div id="noSearchResultsMessage" style="display: none;">
        No results found for your current search.
    </div>

    <script src="saved-links.js"></script>
</body>
</html>